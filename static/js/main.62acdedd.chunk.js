(window["webpackJsonpdevice-manager"]=window["webpackJsonpdevice-manager"]||[]).push([[0],{25:function(e,t,n){e.exports=n(38)},34:function(e,t,n){},35:function(e,t,n){},38:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(12),c=n.n(o),i=n(7),s=n(10),l=n(22),u="SET_HOME_DATA",m="SET_DEVICE_DATA",p="UPDATE_CURR_DEVICE_BY_ID",d="UPDATE_CURR_DEVICE",v="SET_ROUTER_DATA",y="SET_SERVER_DATA";function f(e){return JSON.parse(JSON.stringify(e))}var R=Object(s.c)({homeStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case u:return t.payload;default:return e}},mobileStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=f(e);switch(t.type){case m:return t.payload;case p:n.list=n.list.map((function(e){return n.currDevice&&e._id===n.currDevice._id?n.currDevice:e}));var a=n.list.find((function(e){return e._id===t.payload}));return n.currDevice=a,n;case d:return n.currDevice=t.payload,n;default:return e}},routerStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return t.payload;default:return e}},serverStore:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return t.payload;default:return e}}}),g=Object(s.d)(R,Object(s.a)(l.a)),E=(n(34),n(35),n(24)),h=n(9);var w=r.a.memo((function(){return Object(a.useEffect)((function(){})),r.a.createElement("div",{className:"home"},r.a.createElement("h2",null,"Home"))})),b=n(1),x=n(14),D=n(2),O=n.n(D),S=n(6),A={name:"omer"};var M={getData:function(){return Promise.resolve(A)}};var P={currDevice:null,list:[{_id:"P101",name:"Galaxy s7",type:"Phone",relatedDevices:[{_id:"R10",type:"Router",name:"Router R10",location:{x:240,y:80},zIndex:10},{_id:"R11",type:"Router",name:"Router R11",location:{x:120,y:300},zIndex:10}],connections:[["R10","R11"],["R11","P101"]],manufacturer:"Samsung",operatingSystem:"Android",publishDate:"2017",networkType:"LTE",generation:4,memory:"128GB",RAM:"6GB",processor:"2700 1800 MHz",location:{x:40,y:60},zIndex:10,isDraging:!1},{_id:"P102",name:"Galaxy Note 9",type:"Phone",relatedDevices:[{_id:"R10",type:"Router",name:"Router R10",location:{x:240,y:80},zIndex:10},{_id:"R11",type:"Router",name:"Router R11",location:{x:120,y:300},zIndex:10}],connections:[["R10","R11"],["R10","P102"]],manufacturer:"Samsung",operatingSystem:"Android",publishDate:"2018",networkType:"LTE",generation:4,memory:"128GB",RAM:"6GB",processor:"2700 1800 MHz",location:{x:40,y:60},zIndex:10,isDraging:!1},{_id:"P103",name:"iPhone 8",type:"Phone",relatedDevices:[{_id:"R10",type:"Router",name:"Router R10",location:{x:240,y:80},zIndex:10},{_id:"R11",type:"Router",name:"Router R11",location:{x:120,y:300},zIndex:10}],connections:[["R10","R11"]],manufacturer:"Apple",operatingSystem:"iOS",publishDate:"2018",networkType:"LTE",generation:4,memory:"256GB",RAM:"4GB",processor:"2700 1800 MHz",location:{x:40,y:60},zIndex:10,isDraging:!1},{_id:"P104",name:"iPhone 9",type:"Phone",relatedDevices:[{_id:"R10",type:"Router",name:"Router R10",location:{x:240,y:80},zIndex:10},{_id:"R11",type:"Router",name:"Router R11",location:{x:120,y:300},zIndex:10}],connections:[["R11","P104"]],manufacturer:"Apple",operatingSystem:"iOS",publishDate:"2019",networkType:"LTE",generation:4,memory:"256GB",RAM:"4GB",processor:"2700 1800 MHz",location:{x:40,y:60},zIndex:10,isDraging:!1},{_id:"P105",name:"iPhone 10",type:"Phone",relatedDevices:[{_id:"R10",type:"Router",name:"Router R10",location:{x:400,y:135},zIndex:10},{_id:"R11",type:"Router",name:"Router R11",location:{x:150,y:400},zIndex:10},{_id:"S1001",type:"Server",name:"Server S1001",location:{x:350,y:550},zIndex:10}],connections:[["R10","R11"],["R11","P105"],["R10","P105"],["S1001","R11"]],manufacturer:"Apple",operatingSystem:"iOS",publishDate:"2020",networkType:"LTE",generation:4,memory:"256GB",RAM:"4GB",processor:"2700 1800 MHz",location:{x:120,y:130},zIndex:10,isDraging:!1},{_id:"P106",name:"iPhone 11",type:"Phone",relatedDevices:[{_id:"R10",type:"Router",name:"Router R10",location:{x:230,y:60},zIndex:10},{_id:"R11",type:"Router",name:"Router R11",location:{x:245,y:265},zIndex:10},{_id:"R12",type:"Router",name:"Router R12",location:{x:60,y:290},zIndex:10},{_id:"S1001",type:"Server",name:"Server S1001",location:{x:200,y:460},zIndex:10}],connections:[["R11","S1001"],["R12","S1001"],["R10","R11"],["P106","R10"]],manufacturer:"Apple",operatingSystem:"iOS",publishDate:"2021",networkType:"LTE",generation:4,memory:"256GB",RAM:"4GB",processor:"2700 1800 MHz",location:{x:40,y:60},zIndex:10,isDraging:!1},{_id:"P107",name:"iPhone 12",type:"Phone",relatedDevices:[{_id:"R10",type:"Router",name:"Router R10",location:{x:240,y:80},zIndex:10},{_id:"R11",type:"Router",name:"Router R11",location:{x:120,y:300},zIndex:10}],connections:[["R10","R11"]],manufacturer:"Apple",operatingSystem:"iOS",publishDate:"2022",networkType:"LTE",generation:4,memory:"256GB",RAM:"4GB",processor:"2700 1800 MHz",location:{x:40,y:60},zIndex:10,isDraging:!1},{_id:"P108",name:"iPhone 13",type:"Phone",relatedDevices:[{_id:"R10",type:"Router",name:"Router R10",location:{x:240,y:80},zIndex:10},{_id:"R11",type:"Router",name:"Router R11",location:{x:120,y:300},zIndex:10}],connections:[["R10","R11"],["R11","P108"],["R10","P108"]],manufacturer:"Apple",operatingSystem:"iOS",publishDate:"2023",networkType:"LTE",generation:4,memory:"256GB",RAM:"4GB",processor:"2700 1800 MHz",location:{x:40,y:60},zIndex:10,isDraging:!1},{_id:"P109",name:"iPhone 14",type:"Phone",relatedDevices:[{_id:"R10",type:"Router",name:"Router R10",location:{x:400,y:135},zIndex:10},{_id:"R11",type:"Router",name:"Router R11",location:{x:270,y:400},zIndex:10}],connections:[],manufacturer:"Apple",operatingSystem:"iOS",publishDate:"2024",networkType:"LTE",generation:4,memory:"256GB",RAM:"4GB",processor:"2700 1800 MHz",location:{x:130,y:120},zIndex:10,isDraging:!1},{_id:"P110",name:"iPhone 15",type:"Phone",relatedDevices:[{_id:"R10",type:"Router",name:"Router R10",location:{x:240,y:80},zIndex:10},{_id:"R11",type:"Router",name:"Router R11",location:{x:120,y:300},zIndex:10}],connections:[],manufacturer:"Apple",operatingSystem:"iOS",publishDate:"2025",networkType:"LTE",generation:4,memory:"256GB",RAM:"4GB",processor:"2700 1800 MHz",location:{x:40,y:60},zIndex:10,isDraging:!1},{_id:"P111",name:"iPhone 16",type:"Phone",relatedDevices:[{_id:"R10",type:"Router",name:"Router R10",location:{x:240,y:80},zIndex:10},{_id:"R11",type:"Router",name:"Router R11",location:{x:120,y:300},zIndex:10}],connections:[["R10","R11"]],manufacturer:"Apple",operatingSystem:"iOS",publishDate:"2026",networkType:"LTE",generation:4,memory:"256GB",RAM:"4GB",processor:"2700 1800 MHz",location:{x:40,y:60},zIndex:10,isDraging:!1},{_id:"C112",name:"Lenovo YOGA",type:"Computer",relatedDevices:[{_id:"R10",type:"Router",name:"Router R10",location:{x:240,y:80},zIndex:10},{_id:"R11",type:"Router",name:"Router R11",location:{x:50,y:300},zIndex:10},{_id:"S1001",type:"Server",name:"Server S1001",location:{x:250,y:400},zIndex:10}],connections:[["R10","R11"],["R11","C112"],["R11","S1001"]],manufacturer:"Lenovo",operatingSystem:"Windows",publishDate:"2017",networkType:"LTE",generation:4,memory:"256GB",RAM:"8GB",processor:"2700 2500 MHz",location:{x:40,y:60},zIndex:10,isDraging:!1}]};var _={getData:function(){return Promise.resolve(P)}};var j={list:[{_id:"R10",name:"Router R10",type:"Router",manufacturer:"Cisco",catalog:"RV130",version:"4.2",ip:"192.168.1.1",POE:!0,CPU:"2.4 GHz",ROM:"64 MB",RAM:"128 MB",NVRAM:"16 MB",LAN:"RJ-45 x 4 for 10/100/1000 Base T",WAN:"RJ45 LAN",flashMemory:"8 MB",networkInterfaces:"networkInterfaces",wirelessSupport:"",speed:"300 Mbsp",weight:"660 g",Dimension:"190mm * 35m * 165mm",networkSecurity:"WPA2, Guest Access, DoS, Firewall"},{_id:"R11",name:"Router R11",type:"Router",manufacturer:"Amazon",catalog:"R6120-100NAS",version:"4.2",ip:"192.168.1.1",POE:!0,CPU:"5 GHz",ROM:"64 MB",RAM:"128 MB",NVRAM:"16 MB",LAN:"RJ-45 x 4 for 10/100/1000 Base T",WAN:"RJ45 LAN",flashMemory:"8 MB",networkInterfaces:"networkInterfaces",wirelessSupport:"802.11b/g/n",speed:"1200 Mbsp",weight:"800 g",Dimension:"190mm * 35m * 165mm",networkSecurity:"WPA2, Guest Access, DoS, Firewall"},{_id:"R12",name:"Router R12",type:"Router",manufacturer:"COMFAST",catalog:"CF-WR610N",version:"4.2",ip:"192.168.1.1",POE:!0,CPU:"2.4 GHz",ROM:"64 MB",RAM:"128 MB",NVRAM:"16 MB",LAN:"RJ-45 x 4 for 10/100/1000 Base T",WAN:"RJ45 LAN",flashMemory:"8 MB",networkInterfaces:"networkInterfaces",wirelessSupport:"802.11a/g/n/ac",speed:"300 Mbsp",weight:"660 g",Dimension:"190mm * 35m * 165mm",networkSecurity:"WPA2, Guest Access, DoS, Firewall"},{_id:"R13",name:"Router R13",type:"Router",manufacturer:"D-Link",catalog:"DIR-878/IL/A1A",version:"4.2",ip:"192.168.1.1",POE:!0,CPU:"2.4 GHz",ROM:"64 MB",RAM:"128 MB",NVRAM:"16 MB",LAN:"RJ-45 x 4 for 10/100/1000 Base T",WAN:"RJ45 LAN",flashMemory:"8 MB",networkInterfaces:"networkInterfaces",wirelessSupport:"",speed:"300 Mbsp",weight:"660 g",Dimension:"190mm * 35m * 165mm",networkSecurity:"WPA2, Guest Access, DoS, Firewall"}]};var k={getData:function(){return Promise.resolve(j)}};var N={list:[{_id:"S1001",name:"Server S1001",type:"Server",language:"Node.js",DB:"MongoDB"}]};var I={getData:function(){return Promise.resolve(N)}};function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}var C=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},{loadHomeData:function(){return function(){var e=Object(S.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,M.getData();case 2:n=e.sent,t({type:u,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},{},{loadDeviceData:function(){return function(){var e=Object(S.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_.getData();case 2:n=e.sent,t({type:m,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},changeCurrDeviceById:function(e){return function(){var t=Object(S.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:p,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},updateCurrDevice:function(e){return function(){var t=Object(S.a)(O.a.mark((function t(n){return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n({type:d,payload:e});case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},{},{loadRouterData:function(){return function(){var e=Object(S.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k.getData();case 2:n=e.sent,t({type:v,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}},{},{loadServerData:function(){return function(){var e=Object(S.a)(O.a.mark((function e(t){var n;return O.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.getData();case 2:n=e.sent,t({type:y,payload:n});case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}});var B=r.a.memo((function(e){var t=e.devices,n=e.isMobile,a=e.currDevice,o=e.toggleDeviceMenu,c=Object(i.b)();return r.a.createElement("div",{className:"manage-device-list ".concat(n?"mobile":"desktop")},t.map((function(e){return r.a.createElement("div",{className:"item ".concat(a&&a._id===e._id&&"selected"),onClick:function(){return t=e._id,c(C.changeCurrDeviceById(t)),void(n&&o());var t},key:e._id},e.name)})))}));var T=r.a.memo((function(e){var t=e.device,n=t.type,o=t.connections,c=void 0===o?null:o,i=t._id,s=t.name,l=t.location,u=t.zIndex,m=e.onClientDown,p=e.onCreateConnection,d=Object(a.useState)(""),v=Object(b.a)(d,2),y=v[0],f=v[1],R=n.toLowerCase(),g=function e(t){if("assets/img/icons/make new connection.png"!==t.target.getAttribute("src")){var n=t.target.getAttribute("data-id");n&&n!==i&&p(i,n),window.removeEventListener("click",e,!1),f("")}},E=function(e){m(e,{value:c?"Own":"Related",id:i})};return r.a.createElement("div",{className:"device",style:{top:"".concat(l.y,"px"),left:"".concat(l.x,"px"),zIndex:u}},r.a.createElement("div",{className:"icon",onMouseDown:E,onTouchStart:E},r.a.createElement("img",{draggable:"false",src:"assets/img/icons/".concat(R,".png"),"data-id":i,alt:"".concat(s),title:"".concat(s)})),r.a.createElement("div",{className:"title"},r.a.createElement("span",{title:"".concat(s)},s)),r.a.createElement("button",{className:"device-btn-options",onClick:function(){f(y===i?"":i)}},r.a.createElement("img",{src:"assets/img/icons/mehr3.png",alt:"Options"})),y===i&&r.a.createElement("div",{className:"options"},r.a.createElement("img",{src:"assets/img/icons/details.png",alt:""}),r.a.createElement("img",{src:"assets/img/icons/make new connection.png",alt:"",onClick:function(){window.addEventListener("click",g,!1)}}),r.a.createElement("img",{src:"assets/img/icons/history.png",alt:""})))}));var L=r.a.memo((function(e){var t=e.device,n=e.onClientDown,a=e.onCreateConnection,o=t.relatedDevices.map((function(e){return r.a.createElement(T,{key:"".concat(t._id).concat(e._id),device:e,onClientDown:n,onCreateConnection:a})}));return r.a.createElement(r.a.Fragment,null,o)}));var G=r.a.memo((function(e){var t=e.point1,n=e.point2,o=e.onRemoveConnection,c=Object(a.useRef)(null),i=Object(a.useState)(100),s=Object(b.a)(i,1)[0],l=Object(a.useState)(40),u=Object(b.a)(l,1)[0],m=Object(a.useState)(!1),p=Object(b.a)(m,2),d=p[0],v=p[1],y=Math.min(t.x,n.x),f=Math.min(t.y,n.y),R=Math.abs(t.x-n.x),g=Math.abs(t.y-n.y);Object(a.useEffect)((function(){E()}));var E=function(){var e=s/2,a=R+e,r=g+e;t.x===y&&t.y===f||n.x===y&&n.y===f?(c.current.setAttributeNS(null,"y1",e),c.current.setAttributeNS(null,"y2",r)):(c.current.setAttributeNS(null,"y1",r),c.current.setAttributeNS(null,"y2",e)),c.current.setAttributeNS(null,"x1",e),c.current.setAttributeNS(null,"x2",a)},h={svg:{top:"".concat(f,"px"),left:"".concat(y,"px"),height:"".concat(g+s,"px"),width:"".concat(R+s,"px")},options:{height:"".concat(u,"px"),top:"".concat((g+s)/2+f-u/2,"px"),left:"".concat((R+s)/2+y-u/2,"px")}};return r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"svg-btn-options",style:h.options},r.a.createElement("img",{className:"btn",src:"assets/img/icons/menu4.png",alt:"Options",onClick:function(){return v(!d)}}),d&&r.a.createElement("img",{className:"options",src:"assets/img/icons/remove.png",alt:"Remove",onClick:o})),r.a.createElement("svg",{style:h.svg},r.a.createElement("line",{ref:c})))}));var H=r.a.memo((function(e){var t=e.device,n=e.onRemoveConnection,a=function(e){return"P"===e.charAt(0)||"C"===e.charAt(0)?t.location:t.relatedDevices.find((function(t){return t._id===e})).location},o=t.connections.map((function(e){var o=a(e[0]),c=a(e[1]);return r.a.createElement(G,{point1:o,point2:c,key:"".concat(t._id).concat(e[0]).concat(e[1]),onRemoveConnection:function(){return n(e[0],e[1])}})}));return r.a.createElement(r.a.Fragment,null,o)}));var W=r.a.memo((function(e){var t=e.device;return r.a.createElement("div",{className:"device-details"},r.a.createElement("h2",null,"Details"),r.a.createElement("div",{className:"list"},r.a.createElement("p",null,r.a.createElement("span",{className:"title"},"Name: "),r.a.createElement("span",null,t.name)),r.a.createElement("p",null,r.a.createElement("span",{className:"title"},"Type: "),r.a.createElement("span",null,t.type)),r.a.createElement("p",null,r.a.createElement("span",{className:"title"},"Manufacturer: "),r.a.createElement("span",null,t.manufacturer)),r.a.createElement("p",null,r.a.createElement("span",{className:"title"},"System: "),r.a.createElement("span",null,t.operatingSystem)),r.a.createElement("p",null,r.a.createElement("span",{className:"title"},"Publish Date: "),r.a.createElement("span",null,t.publishDate)),r.a.createElement("p",null,r.a.createElement("span",{className:"title"},"Network Type: "),r.a.createElement("span",null,t.networkType)),r.a.createElement("p",null,r.a.createElement("span",{className:"title"},"Memory: "),r.a.createElement("span",null,t.memory)),r.a.createElement("p",null,r.a.createElement("span",{className:"title"},"RAM: "),r.a.createElement("span",null,t.RAM)),r.a.createElement("p",null,r.a.createElement("span",{className:"title"},"Processor: "),r.a.createElement("span",null,t.processor))))}));var J=r.a.memo((function(){return r.a.createElement("div",{className:"device-history"},r.a.createElement("h2",null,"No History Yet"))}));var U=function(e,t,n){var r=Object(i.b)(),o=Object(a.useState)(e),c=Object(b.a)(o,2),s=c[0],l=c[1],u=Object(a.useState)(!1),m=Object(b.a)(u,2),p=m[0],d=m[1],v=Object(a.useState)(""),y=Object(b.a)(v,2)[1],f=Object(a.useCallback)((function(a){var r=a.clientX,o=a.clientY,c=e;switch(y({}),!p&&d(!0),n.value){case"Own":c.location={x:r-t.x,y:o-t.y};break;case"Related":var i=c.relatedDevices.findIndex((function(e){return e._id===n.id}));c.relatedDevices[i].location={x:r-t.x,y:o-t.y}}l(c)}),[e,t,n,p]),R=Object(a.useCallback)((function(t){if(e&&e.isDraging&&n){var a=t.changedTouches;f(a?{clientX:a[0].clientX,clientY:a[0].clientY}:t)}}),[f,e,n]),g=Object(a.useCallback)((function(){if(e&&e.isDraging){var t=e;t.isDraging=!1,l(t),p&&(d(!1),r(C.updateCurrDevice(t)))}}),[e,p,r]);return Object(a.useEffect)((function(){return window.addEventListener("mousemove",R,!1),window.addEventListener("touchmove",R,!1),window.addEventListener("mouseup",g,!1),window.addEventListener("touchend",g,!1),function(){window.removeEventListener("mousemove",R,!1),window.removeEventListener("touchmove",R,!1),window.removeEventListener("mouseup",g,!1),window.removeEventListener("touchend",g,!1)}}),[R,g]),s};function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function V(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach((function(t){Object(x.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var Y=r.a.memo((function(e){var t=e.currDevice,n=Object(a.useState)(null),o=Object(b.a)(n,2),c=o[0],i=o[1],s=Object(a.useState)({x:1,y:1}),l=Object(b.a)(s,2),u=l[0],m=l[1],p=Object(a.useState)(null),d=Object(b.a)(p,2),v=d[0],y=d[1],f=Object(a.useState)("Connections"),R=Object(b.a)(f,2),g=R[0],E=R[1];Object(a.useEffect)((function(){(t&&!c||t&&c&&t._id!==c._id)&&i(t)}),[c,t]);var h=U(c,u,v);Object(a.useEffect)((function(){i(h)}),[h]);var w=function(e,t){var n=e.clientX,a=e.clientY,r={x:1,y:1};if(r="Own"===t.value&&{x:n-c.location.x,y:a-c.location.y},"Related"===t.value){var o=c.relatedDevices.findIndex((function(e){return e._id===t.id}));r={x:n-c.relatedDevices[o].location.x,y:a-c.relatedDevices[o].location.y}}m(r)},x=function(e,t){i((function(e){return V({},e,{isDraging:!0})})),y(t);var n=e.changedTouches;w(n?{clientX:n[0].clientX,clientY:n[0].clientY}:e,t)},D=function(e,t){if(!c.connections.find((function(n){return n[0]===e&&n[1]===t||n[1]===e&&n[0]===t}))){var n=V({},c);n.connections.push([e,t]),i(n)}},O=["Details","Connections","History"].map((function(e){return r.a.createElement("span",{key:e,className:"category ".concat(c&&g===e&&"selected"),onClick:function(){return E(e)}},e)}));return r.a.createElement("div",{className:"manage-device-preview"},r.a.createElement("div",{className:"categories flex space-even wrap"},O),"Connections"===g&&c&&r.a.createElement("div",{className:"visual-display"},r.a.createElement(T,{device:c,onClientDown:x,onCreateConnection:D}),r.a.createElement(L,{device:c,onClientDown:x,onCreateConnection:D}),r.a.createElement(H,{device:c,onRemoveConnection:function(e,t){var n=c.connections.findIndex((function(n){return n[0]===e&&n[1]===t})),a=V({},c);a.connections.splice(n,1),i(a)}})),"Details"===g&&c&&r.a.createElement(W,{device:c}),"History"===g&&c&&r.a.createElement(J,{device:c}))})),X=768;var $=function(){var e=Object(a.useState)(X<=window.innerWidth),t=Object(b.a)(e,2),n=t[0],r=t[1];return Object(a.useEffect)((function(){var e=window.innerWidth,t=function(t){e!==t.currentTarget.innerWidth&&(e=t.currentTarget.innerWidth,r(X<=e))};return window.addEventListener("resize",t),function(){window.removeEventListener("resize",t)}})),n};var q=r.a.memo((function(){var e=Object(i.b)(),t=Object(i.c)((function(e){return e.mobileStore})),n=Object(a.useState)(!1),o=Object(b.a)(n,2),c=o[0],s=o[1],l=$();Object(a.useEffect)((function(){e(C.loadDeviceData())}),[e]);var u=function(){s(!c)};return r.a.createElement("div",{className:"manage-device"},r.a.createElement("div",{className:"bar"},t&&t.currDevice&&r.a.createElement("h2",null,t.currDevice.name),l||r.a.createElement("div",{className:"only-mobile"},r.a.createElement("div",{className:"mask-layer",style:{display:c||"none"},onClick:u}),r.a.createElement("button",{onClick:u},"Devices"),c&&r.a.createElement(B,{devices:t.list,isMobile:!0,currDevice:t.currDevice,toggleDeviceMenu:u}))),t&&r.a.createElement("div",{className:"content flex"},l&&r.a.createElement(B,{devices:t.list,isMobile:!1,currDevice:t.currDevice}),r.a.createElement(Y,{currDevice:t.currDevice})))}));var K=function(){return r.a.createElement(E.a,null,r.a.createElement("div",{className:"route"},r.a.createElement("h1",null,"Device Manager"),r.a.createElement(h.d,null,r.a.createElement(h.a,{exact:!0,from:"/",to:"manageDevice"}),r.a.createElement(h.b,{exact:!0,path:"/manageDevice/:categories?",component:q}),r.a.createElement(h.b,{exact:!0,path:"/home",component:w}))))};var Q=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(K,null))},Z=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ee(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(i.a,{store:g},r.a.createElement(Q,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/device-manager",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("/device-manager","/service-worker.js");Z?(!function(e,t){fetch(e).then((function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ee(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ee(t,e)}))}}()}},[[25,1,2]]]);
//# sourceMappingURL=main.62acdedd.chunk.js.map